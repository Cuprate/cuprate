[workspace]
resolver = "2"

members = [
	"common",
	"consensus",
	"cryptonight",
	# "cuprate",
	# "database",
	"net/levin",
	"net/monero-wire",
	# "p2p",
	# "p2p/sync-states"
]

[profile.release]
lto           = true   # Build with LTO
strip         = "none" # Keep panic stack traces
codegen-units = 1      # Optimize for binary speed over compile times
opt-level     = 3

[profile.dev]
lto           = false
strip         = "none"
# Not much slower compile times than opt-level 0, but much faster code.
opt-level     = 1

[profile.dev.package."*"]
# Compile dependencies with max optimization.
# This is obviously slower on a cold build,
# but you only build these once.
opt-level = 3

[workspace.dependencies]
async-trait           = { version = "0.1" }
bincode               = { version = "2.0.0-rc.3" }
bytes                 = { version = "1" }
clap                  = { version = "4" }
chrono                = { version = "0.4" }
crypto-bigint         = { version = "0.5" }
curve25519-dalek      = { version = "4" }
dalek-ff-group        = { git = "https://github.com/Cuprate/serai.git", rev = "39eafae" }
dirs                  = { version = "5.0" }
futures               = { version = "0.3" }
hex                   = { version = "0.4" }
monero-epee-bin-serde = { git = "https://github.com/monero-rs/monero-epee-bin-serde.git", rev = "e4a585a" }
monero-serai          = { git = "https://github.com/Cuprate/serai.git", rev = "39eafae" }
multiexp              = { git = "https://github.com/Cuprate/serai.git", rev = "39eafae" }
randomx-rs            = { version = "1" }
rand                  = { version = "0.8" }
rayon                 = { version = "1" }
serde_bytes           = { version = "0.11" }
serde_json            = { version = "1" }
serde                 = { version = "1", features = ["derive"] }
thiserror             = { version = "1" }
tokio-util            = { version = "0.7", features = ["codec"]}
tokio                 = { version = "1", features = ["full"] }
tower                 = { version = "0.4", features = ["util", "steer"] }
tracing-subscriber    = { version = "0.3" }
tracing               = { version = "0.1" }